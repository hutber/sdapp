/*! Hammer.JS - v2.0.0dev - 2014-06-23
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


!function(a,b){"use strict";function c(a,c,d){var e,f;if(a.forEach)a.forEach(c,d);else if(a.length!==b)for(e=0,f=a.length;f>e;e++)c.call(d,a[e],e,a);else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a)}function d(a,c,d){for(var e in c)c.hasOwnProperty(e)&&(!d||d&&a[e]===b)&&(a[e]=c[e]);return a}function e(a,b){return d(a,b,!0)}function f(a,b,c){var e,f=b.prototype;if(Object.create)e=a.prototype=Object.create(f),e.constructor=a;else{d(a,parent);var g=function(){this.constructor=a};g.prototype=f,e=a.prototype=new g}c&&d(e,c),e._super=f}function g(a,b){return function(){return a.apply(b,arguments)}}function h(b,c){return typeof b==_?b.apply(c?c[0]||a:a,c):b}function i(a,b,d){c(m(b),function(b){a.addEventListener(b,d,!1)})}function j(a,b,d){c(m(b),function(b){a.removeEventListener(b,d,!1)})}function k(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function l(a,b){return a.indexOf(b)>-1}function m(a){return a.trim().split(/\s+/g)}function n(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0,e=a.length;e>d;d++)if(c&&a[d][c]==b||!c&&a[d]===b)return d;return-1}function o(a){return Array.prototype.slice.call(a,0)}function p(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;e++){var g=b?a[e][b]:a[e];n(d,g)<0&&c.push(a[e]),d[e]=g}return c}function q(a,c){var d,e,f,g=c[0].toUpperCase()+c.slice(1);for(f=0;f<$.length;f++)if(d=$[f],e=d?d+g:c,e in a)return e;return b}function r(){return cb++}function s(b,c){var d=this;this.manager=b,this.callback=c,this.domHandler=function(a){h(d.manager.options.enable,[d.manager])&&d.handler(a)},this.elEvents&&i(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&i(a,this.winEvents,this.domHandler)}function t(a){var b;return new(b=eb?G:gb?H:fb?J:F)(a,u)}function u(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&mb&&d-e===0,g=b&ob&&d-e===0;c.isFirst=f,c.isFinal=g,f&&(a.session={}),c.eventType=b,v(a,c),a.recognize(c)}function v(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=x(b)),e>1&&!c.firstMultiple?c.firstMultiple=x(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=y(d);b.timeStamp=b.srcEvent.timeStamp,b.deltaTime=b.timeStamp-f.timeStamp,b.deltaX=i.x-h.x,b.deltaY=i.y-h.y,b.center=i,b.angle=C(h,i),b.distance=B(h,i),b.offsetDirection=A(b.deltaX,b.deltaY),b.scale=g?E(g.pointers,d):1,b.rotation=g?D(g.pointers,d):0;var j=a.element;k(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j,w(c,b)}function w(a,c){var d=a.lastInterval;d||(d=a.lastInterval=x(c));var e=c.timeStamp-d.timeStamp;if(e>lb||d.velocity===b){var f=d.deltaX-c.deltaX,g=d.deltaY-c.deltaY;d=a.lastInterval=x(c),d.velocity=z(e,f,g),d.direction=A(f,g)}var h=d.velocity;c.velocity=Math.max(h.x,h.y),c.velocityX=h.x,c.velocityY=h.y,c.direction=d.direction}function x(a){for(var b=[],c=0;c<a.pointers.length;c++)b[c]={clientX:bb(a.pointers[c].clientX),clientY:bb(a.pointers[c].clientY)};return{timeStamp:a.srcEvent.timeStamp,pointers:b,center:y(b),deltaX:a.deltaX,deltaY:a.deltaY}}function y(a){var b=a.length;if(1===b)return{x:bb(a[0].clientX),y:bb(a[0].clientY)};for(var c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return{x:bb(c/b),y:bb(d/b)}}function z(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}}function A(a,b){return a===b?qb:Math.abs(a)>=Math.abs(b)?a>0?sb:rb:b>0?ub:tb}function B(a,b,c){c||(c=yb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function C(a,b,c){c||(c=yb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function D(a,b){return C(b[1],b[0],zb)-C(a[1],a[0],zb)}function E(a,b){return B(b[0],b[1],zb)/B(a[0],a[1],zb)}function F(){this.elEvents=Bb,this.winEvents=Cb,this.allow=!0,this.pressed=!1,s.apply(this,arguments)}function G(){this.elEvents=Fb,this.winEvents=Gb,s.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.elEvents=Ib,s.apply(this,arguments)}function I(a){var b=o(a.changedTouches),c=o(a.touches).concat(b);return[p(c,"identifier"),b]}function J(){s.apply(this,arguments),this._handler=g(this.handler,this),this.touch=new H(this.manager,this._handler),this.mouse=new F(this.manager,this._handler)}function K(a,b){this.manager=a,this.set(b)}function L(a){return l(a,Ob)?Ob:l(a,Pb)||l(a,Qb)?a.replace(/[\-\w]+/g,function(a){return/^pan\-/.test(a)?a:""}):l(a,Nb)?Nb:Mb}function M(a){this.id=r(),this.manager=null,this.options=e(a||{},this.defaults||{}),this.options.enable=this.options.enable===b?!0:this.options.enable,this.state=Xb,this.simultaneous={},this.requireFail=[]}function N(a){return a&Wb?"cancel":a&Ub?"end":a&Tb?"":a&Sb?"start":""}function O(a,b){var c=b.manager;return c?c.get(a):a}function P(){M.apply(this,arguments)}function Q(){P.apply(this,arguments),this.pX=null,this.pY=null}function R(){P.apply(this,arguments)}function S(){M.apply(this,arguments),this._timer=null,this._input=null}function T(){P.apply(this,arguments)}function U(){P.apply(this,arguments)}function V(){M.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this.count=0}function W(a,b){b=b||{};var d=new X(a,b);return c(d.options.recognizers,function(a){var b=d.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2])}),d}function X(a,b){b=b||{},this.options=e(b,W.defaults),this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=t(this),this.touchAction=new K(this,this.options.touchAction),Y(this,!0)}function Y(a,b){var d=a.element,e=a.options.cssProps;c(e,function(a,c){d.style[q(d.style,c)]=b?a:""});var f=b&&function(){return!1};"none"==e.userSelect&&(d.onselectstart=f),"none"==e.userDrag&&(d.ondragstart=f)}function Z(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}var $=["","webkit","moz","MS","ms","o"],_="function",ab="undefined",bb=Math.round,cb=1,db=/mobile|tablet|ip(ad|hone|od)|android/i,eb=q(a,"PointerEvent")!==b,fb="ontouchstart"in a,gb=fb&&db.test(navigator.userAgent),hb="touch",ib="pen",jb="mouse",kb="kinect",lb=25,mb=1,nb=2,ob=4,pb=8,qb=1,rb=2,sb=4,tb=8,ub=16,vb=rb|sb,wb=tb|ub,xb=vb|wb,yb=["x","y"],zb=["clientX","clientY"];s.prototype={destroy:function(){this.elEvents&&j(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&j(a,this.winEvents,this.domHandler)}};var Ab={mousedown:mb,mousemove:nb,mouseup:ob,mouseout:pb},Bb="mousedown",Cb="mousemove mouseout mouseup";f(F,s,{handler:function(a){var b=Ab[a.type];if(b&mb&&0===a.button&&(this.pressed=!0),b&nb&&1!==a.which&&(b=ob),this.pressed&&this.allow){var c=a.relatedTarget||a.toElement||a.target;"mouseout"==a.type&&"HTML"!=c.nodeName&&(b=nb),b&(ob|pb)&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:jb,srcEvent:a})}}});var Db={pointerdown:mb,pointermove:nb,pointerup:ob,pointercancel:pb,pointerout:pb},Eb={2:hb,3:ib,4:jb,5:kb},Fb="pointerdown pointermove pointerup pointercancel",Gb="pointerout";a.MSPointerEvent&&(Fb="MSPointerDown MSPointerMove MSPointerUp MSPointerCancel",Gb="MSPointerOut"),f(G,s,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Db[d],f=Eb[a.pointerType]||a.pointerType,g=a.relatedTarget||a.toElement||a.target;"pointerout"==d&&"HTML"!=g.nodeName&&(e=nb),e&mb&&(0===a.button||f==hb)?b.push(a):e&(ob|pb)&&(c=!0);var h=n(b,a.pointerId,"pointerId");0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Hb={touchstart:mb,touchmove:nb,touchend:ob,touchcancel:pb},Ib="touchstart touchmove touchend touchcancel";f(H,s,{handler:function(a){var b=I(a);this.callback(this.manager,Hb[a.type],{pointers:b[0],changedPointers:b[1],pointerType:hb,srcEvent:a})}}),f(J,s,{handler:function(a,b,c){var d=c.pointerType==hb,e=c.pointerType==jb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(ob|pb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Jb=q(document.body.style,"touchAction"),Kb=Jb!==b,Lb="compute",Mb="auto",Nb="manipulation",Ob="none",Pb="pan-x",Qb="pan-y";K.prototype={set:function(a){a==Lb&&(a=this.compute()),Kb&&(this.manager.element.style[Jb]=a),this.actions=a.toLowerCase()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a,b=[];return c(this.manager.recognizers,function(a){h(a.options.enable,a)&&(b=b.concat(a.getTouchAction()))}),a=p(b).join(" "),L(a)},preventDefaults:function(a){if(!Kb){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=l(d,Ob),f=l(d,Qb),g=l(d,Pb);return e||f&&g||f&&c&vb||g&&c&wb?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var Rb=1,Sb=2,Tb=4,Ub=8,Vb=Ub,Wb=16,Xb=32;M.prototype={set:function(a,b){this.options[a]=b,this.manager&&this.manager.touchAction.update()},emit:function(a){this.manager.emit(this.options.event+N(this.state),a)},recognizeWith:function(a){var b=this.simultaneous;return a=O(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return a=O(a,this),delete this.simultaneous[a.id],this},requireFailure:function(a){var b=this.requireFail;return a=O(a,this),-1===n(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){a=O(a,this);var b=n(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},recognize:function(a){for(var b=!0,c=0;c<this.requireFail.length;c++)if(!(this.requireFail[c].state&Xb)){b=!1;break}var e=d({},a);return b&&h(this.options.enable,[this,e])?(this.state&(Vb|Wb|Xb)&&(this.state=Rb),this.state=this.process(e),void(this.state&(Sb|Tb|Ub|Wb)&&this.emit(e))):(this.reset(),void(this.state=Xb))},process:function(){},getTouchAction:function(){},reset:function(){}},f(P,M,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(Sb|Tb),e=this.attrTest(a);return d&&(c&pb||!e)?b|Wb:d||e?c&ob?b|Ub:b&Sb?b|Tb:b|Sb:Xb}}),f(Q,P,{defaults:{event:"pan",threshold:10,pointers:1,direction:xb},getTouchAction:function(){var a=this.options.direction;if(a===xb)return[Ob];var b=[];return a&vb&&b.push(Qb),a&wb&&b.push(Pb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&vb?(e=0===f?qb:0>f?rb:sb,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?qb:0>g?tb:ub,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return P.prototype.attrTest.call(this,a)&&this.state&Sb||!(this.state&Sb)&&this.directionTest(a)},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY,this._super.emit.call(this,a),this.manager.emit(this.options.event+a.direction,a)}}),f(R,P,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Pb,Qb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(1-a.scale)>this.options.threshold||this.state&Sb)},emit:function(a){this._super.emit.call(this,a);var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}),f(S,M,{defaults:{event:"press",pointers:1,time:500,threshold:10},getTouchAction:function(){return[Mb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;return this._input=a,!d||!c||a.eventType&(ob|pb)&&!e?this.reset():a.eventType&mb&&(this.reset(),this._timer=setTimeout(g(this.emit,this),b.time)),Xb},reset:function(){clearTimeout(this._timer)},emit:function(){this.manager.emit(this.options.event,this._input)}}),f(T,P,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ob]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(1-a.rotation)>this.options.threshold||this.state&Sb)}}),f(U,P,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:vb|wb,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(vb|wb)?b=a.velocity:c&vb?b=a.velocityX:c&wb&&(b=a.velocityY),this._super.attrTest.call(this,a)&&b>this.options.velocity&&a.eventType&ob},emit:function(a){this.manager.emit(this.options.event,a),this.manager.emit(this.options.event+a.direction,a)}}),f(V,M,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,movementBetween:10,movementWhile:2},getTouchAction:function(){return[Nb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.movementWhile,e=a.deltaTime<b.time;if(a.eventType&ob&&d&&e&&c){var f=this.pTime?a.timeStamp-this.pTime<b.interval:!0,g=!this.pCenter||B(this.pCenter,a.center)<b.movementBetween;this.pTime=a.timeStamp,this.pCenter=a.center,g&&f?this.count+=1:this.count=1;var h=this.count%b.taps===0;return h?Vb:Sb}return Xb},emit:function(a){this.state&Vb&&(a.tapCount=this.count,this.manager.emit(this.options.event,a))}}),W.VERSION="2.0.0dev",W.defaults={domEvents:!1,touchAction:Lb,enable:!0,recognizers:[[T,{enable:!1}],[R,{enable:!1},"rotate"],[U,{direction:vb}],[Q,{direction:vb},"swipe"],[V],[V,{event:"doubletap",taps:2},"tap"],[S]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},X.prototype={set:function(a,b){this.options[a]=b},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){if(!this.session.stopped){this.touchAction.preventDefaults(a);var b,c=this.session,d=c.curRecognizer;(!d||d&&d.state&Vb)&&(d=c.curRecognizer=null);for(var e=0;e<this.recognizers.length;e++)b=this.recognizers[e],2===this.session.stopped||d&&b!=d&&!b.canRecognizeWith(d)?b.reset():b.recognize(a),!d&&b.state&(Sb|Tb|Ub)&&(d=c.curRecognizer=b)}},get:function(a){if(a instanceof M)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){return this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){var b=this.recognizers;a=this.get(a),b.splice(n(b,a),1),this.touchAction.update()},on:function(a,b){var d=this.handlers;return c(m(a),function(a){d[a]=d[a]||[],d[a].push(b)}),this},off:function(a,b){var d=this.handlers;return c(m(a),function(a){b?d[a].splice(n(d[a],b),1):delete d[a]}),this},emit:function(a,b){this.options.domEvents&&Z(a,b);var c=this.handlers[a];if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;d++)c[d](b)}},destroy:function(){Y(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},W.INPUT_START=mb,W.INPUT_MOVE=nb,W.INPUT_END=ob,W.INPUT_CANCEL=pb,W.STATE_POSSIBLE=Rb,W.STATE_BEGAN=Sb,W.STATE_CHANGED=Tb,W.STATE_ENDED=Ub,W.STATE_RECOGNIZED=Vb,W.STATE_CANCELLED=Wb,W.STATE_FAILED=Xb,W.DIRECTION_NONE=qb,W.DIRECTION_LEFT=rb,W.DIRECTION_RIGHT=sb,W.DIRECTION_UP=tb,W.DIRECTION_DOWN=ub,W.DIRECTION_HORIZONTAL=vb,W.DIRECTION_VERTICAL=wb,W.DIRECTION_ALL=vb|wb,W.Manager=X,W.Input=s,W.TouchAction=K,W.Recognizer=M,W.AttrRecognizer=P,W.Tap=V,W.Pan=Q,W.Swipe=U,W.Pinch=R,W.Rotate=T,W.Press=S,W.on=i,W.off=j,W.each=c,W.merge=e,W.extend=d,W.inherit=f,W.bindFn=g,W.prefixed=q,typeof define==_&&define.amd?define(function(){return W}):typeof module!=ab&&module.exports?module.exports=W:a.Hammer=W}(window);
//# sourceMappingURL=hammer.min.map